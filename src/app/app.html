<div class="app-shell" [class.menu-open]="isMenuOpen">
  <div class="mobile-overlay" (click)="isMenuOpen = false"></div>

  <aside class="sidenav">
    <div class="brand-area">
      <h1>MyFacility</h1>
      <button class="menu-close-btn" (click)="isMenuOpen = false">âœ•</button>
    </div>
    <nav>
      <a routerLink="/structures" routerLinkActive="active" (click)="isMenuOpen = false">ğŸ¢ Strutture</a>
      <a routerLink="/features" routerLinkActive="active" (click)="isMenuOpen = false">ğŸ› ï¸ Servizi</a>
    </nav>
  </aside>

  <main class="main-content">
    <header class="mobile-header">
      <button class="menu-toggle" (click)="isMenuOpen = true">â˜°</button>
      <span class="mobile-brand">MyFacility</span>
    </header>
    <router-outlet></router-outlet>
  </main>
</div>

@if (ui.loading()) {
  <div class="loading-overlay">
    <div class="spinner"></div>
  </div>
}

@if (ui.snackbar().visible) {
  <div class="snackbar" [class]="ui.snackbar().type">
    {{ ui.snackbar().message }}
  </div>
}

@if (ui.dialog().visible) {
  <div class="dialog-overlay">
    <div class="dialog-card">
      <h3>{{ ui.dialog().title }}</h3>
      <p>{{ ui.dialog().message }}</p>
      <div class="dialog-actions">
        <button (click)="ui.closeConfirm()" class="btn-primary">Annulla</button>
        <button (click)="confirmAction()" class="btn-danger">Conferma</button>
      </div>
    </div>
  </div>
}